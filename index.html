<!DOCTYPE html>
<html>

<head>
  <title>zalgotest</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css">

  <style>
    * {
      font-family: sans-serif;
    }
  </style>

  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>

<body>

  <nav>
    <a class="brand-logo center"
       href="https://github.com/cosmicexplorer/zalgify">
      ZALGOTEST
    </a>
  </nav>

  <br/>

  <div class='container'>
    <div class="row">
      <div class="input-field col s2">
        <input type="checkbox" class="filled-in" id="on" checked="checked" />
        <label for="on">Zalgify?</label>
      </div>
      <div class="input-field col s6">
        <input value="some string" id="string" type="text">
        <label for="string" class="tooltipped active" data-position="top"
               data-delay="50" data-tooltip="Enter a string to zalgify.">
          Input String
        </label>
      </div>
      <div class="input-field col s2">
        <input value="0.5" max=20 id="frequency" type="number" class="validate">
        <label for="frequency" class="tooltipped active" data-position="top"
               data-delay="50" data-tooltip="Frequency of diacritics used.">
          Frequency
        </label>
      </div>
      <div class="input-field col s2">
        <input value="3" min=0 max=20 id="intensity" type="number" class="validate">
        <label for="intensity" class="tooltipped active" data-position="top"
               data-delay="50" data-tooltip="Intensity of diacritics used.">
          Intensity
        </label>
      </div>
    </div>
    <div class='row'>
      <div class='col s10'>
        <h2 id='result'></h2>
      </div>
      <div class="input-field col s2">
        <input type="checkbox" class="filled-in" id="is" checked="checked" />
        <label for="is">is Zalgified?</label>
      </div>
    </div>

  </div>

</body>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<script src="zalgify.js"></script>

<script type="text/javascript">
  $(document).ready(function () {
    process();
    $(" body ").keyup( function () { process(); });
    $( "body" ).click( function () { process(); });
  });

  function process() {
    //if $on is checked, zalfigy
    if( $('#on').is(':checked') ) { 
      //perform zalgification
      var z = zalgify($('#string').val(), $('#frequency').val(), $('#intensity').val());
      //and print
      $('#result').html(z);
    } else {
      //else, print the original string
      $('#result').html($('#string').val());      
    }
    // assign $is based on truth value of isZalgified of result html
    $('#is').prop('checked', isZalgified($('#result').html()) );
  }
</script>

</html>
